<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results | FoodExec</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; overflow-x: hidden; }
        .floating-item { position: absolute; bottom: -200px; font-size: 8rem; opacity: 0.8; animation: floatUp linear infinite; z-index: 1; pointer-events: none; }
        @keyframes floatUp { 0% { transform: translateY(0) rotate(0deg); opacity: 0; } 10% { opacity: 0.8; } 90% { opacity: 0.8; } 100% { transform: translateY(-130vh) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body class="min-h-screen p-6 md:p-12 relative">

    <!-- Floating Background Icons -->
    <div class="fixed inset-0 pointer-events-none">
        <span class="floating-item" style="left: 10%; animation-duration: 20s;">ğŸ”</span>
        <span class="floating-item" style="left: 80%; animation-duration: 25s; animation-delay: 5s;">ğŸ•</span>
    </div>

    <div class="max-w-6xl mx-auto relative z-10">
        <!-- Header -->
        <header class="mb-10 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="text-center md:text-left">
                <h1 class="text-3xl font-black text-slate-800 tracking-tight">Search Results</h1>
                <p class="text-slate-500 font-medium">Showing matches for "<span class="text-orange-500 font-bold" th:text="${keyword}"></span>"</p>
            </div>
            <a th:href="@{/user/dashboard}" class="px-6 py-2 bg-white text-slate-600 font-bold rounded-xl border border-slate-200 hover:bg-slate-50 transition-all shadow-sm">
                â† Back Home
            </a>
        </header>

        <!-- Section: Restaurants -->
        <div class="mb-16">
            <h2 class="text-xl font-bold text-slate-700 mb-6 flex items-center gap-2">
                ğŸª Restaurants <span class="text-sm bg-slate-200 px-2 py-0.5 rounded-md" th:text="${#lists.size(restaurants)}">0</span>
            </h2>

            <div th:if="${#lists.isEmpty(restaurants)}" class="bg-white/80 backdrop-blur p-10 rounded-3xl text-center border-2 border-dashed border-slate-200 text-slate-400 italic">
                No restaurants found for this keyword.
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div th:each="r : ${restaurants}" class="bg-white p-6 rounded-[2.5rem] shadow-xl shadow-slate-200/50 border border-slate-100 hover:border-orange-300 transition-all group">
                    <h3 class="text-lg font-black text-slate-800 group-hover:text-orange-500 transition-colors" th:text="${r.restaurantName}">Restaurant</h3>
                    <p class="text-slate-500 text-sm mt-1">ğŸ“ <span th:text="${r.location}">Location</span></p>
                    <div class="mt-4 flex items-center justify-between">
                        <span class="px-3 py-1 bg-orange-50 text-orange-600 text-[10px] font-bold uppercase rounded-lg" th:text="${r.cuisine}">Cuisine</span>
                        <span class="font-bold text-amber-500">â­ <span th:text="${r.ratings}">0</span></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section: Menu Items -->
        <div>
            <h2 class="text-xl font-bold text-slate-700 mb-6 flex items-center gap-2">
                ğŸ” Menu Items <span class="text-sm bg-slate-200 px-2 py-0.5 rounded-md" th:text="${#lists.size(menuItems)}">0</span>
            </h2>

            <div th:if="${#lists.isEmpty(menuItems)}" class="bg-white/80 backdrop-blur p-10 rounded-3xl text-center border-2 border-dashed border-slate-200 text-slate-400 italic">
                No dishes found matching your search.
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div th:each="item : ${menuItems}" class="bg-white p-6 rounded-[2rem] shadow-lg shadow-slate-100 border border-slate-50 flex items-center justify-between hover:scale-[1.02] transition-transform">
                    <div>
                        <span class="text-[10px] font-bold text-emerald-500 uppercase tracking-widest" th:text="${item.category}">Category</span>
                        <h3 class="text-lg font-bold text-slate-800" th:text="${item.itemName}">Dish Name</h3>
                        <p class="text-emerald-600 font-black text-xl mt-1">â‚¹<span th:text="${item.price}">0</span></p>
                    </div>
                    
                    <a th:href="@{/user/cart/add/{id}(id=${item.itemId})}" 
                       class="bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-3 rounded-2xl shadow-lg shadow-orange-200 transition-all active:scale-95">
                        Add +
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
