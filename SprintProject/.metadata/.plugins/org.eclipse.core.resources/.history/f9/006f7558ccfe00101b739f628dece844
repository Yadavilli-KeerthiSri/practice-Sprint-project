<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>

<div th:fragment="body" style="background:#ffffff; padding:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1); display:flex; justify-content:space-between; align-items:center;">
 
    <h3 style="color:#ff5722; margin:0;">Food Delivery</h3>
 
    <div style="display: flex; align-items: center;">
        <!-- Links visible only to ADMIN -->
        <div sec:authorize="hasRole('ADMIN')" style="display: flex;">
            <a th:href="@{/restaurants}" style="margin-right:15px; text-decoration:none; color:#333;">Restaurants</a>
            <a th:href="@{/menu}" style="margin-right:15px; text-decoration:none; color:#333;">Menu</a>
            <a th:href="@{/admin/orders/list}" style="margin-right:15px; text-decoration:none; color:#333;">Manage Orders</a>
            <a th:href="@{/agents}" style="margin-right:15px; text-decoration:none; color:#333;">Delivery Agents</a>
        </div>
 
        <!-- Links visible only to USER -->
        <div sec:authorize="hasRole('USER')" style="display: flex;">
            <a th:href="@{/restaurants}" style="margin-right:15px; text-decoration:none; color:#333;">Browse</a>
            <a th:href="@{/orders/history}" style="margin-right:15px; text-decoration:none; color:#333;">My Orders</a>
            <a th:href="@{/payments}" style="margin-right:15px; text-decoration:none; color:#333;">Payments</a>
        </div>
 
        <!-- Shared Links -->
        <a th:href="@{/profile}" style="margin-right:15px; text-decoration:none; color:#333;">Profile</a>
        
        <!-- Logout Form (Required for Spring Security 6 POST logout) -->
        <form th:action="@{/logout}" method="post" style="display:inline;">
            <button type="submit" style="color:red; background:none; border:none; cursor:pointer; font-weight:bold;">Logout</button>
        </form>
    </div>
</div>
 
</body>
</html>
